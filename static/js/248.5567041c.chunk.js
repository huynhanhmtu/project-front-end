"use strict";(self.webpackChunkproject_front_end=self.webpackChunkproject_front_end||[]).push([[248],{6248:function(e,a,l){l.r(a),l.d(a,{default:function(){return E}});var n=l(885),c=l(2791),r=l(6030),t=l(4942),s=l(1413),i=l(8265),o=l(8639),d=l(50),u=function(){return{type:d.si}},h=function(){return{type:d.FD}},m=function(e){return{type:d.xK,payload:e}},p=function(){return{type:d.T6}},x=function(e){return{type:d.w_,payload:e}},f=l(184);function j(e){var a=e.method,l=e.userEdit,j=(0,r.v9)((function(e){return e.modalReducer.message})),v=(0,r.v9)((function(e){return e.modalReducer.loading})),b=(0,r.I0)(),g={name:"",email:"",password:"",phone:"",birthday:"",skill:[],certification:[],gender:!1,type:"CLIENT"},N={WEB:!1,DESIGN:!1,GAMING:!1,MOBILE:!1,REACT:!1,DIB:!1,PYNOW:!1,AWS:!1,CCNA:!1,IT:!1},y={errors:{name:"",email:"",password:"",phone:"",birthday:"",skill:[],certification:[]},formValid:!1,nameValid:!1,emailValid:!1,passwordValid:!1,phoneValid:!1,birthdayValid:!1},k=(0,c.useState)((0,s.Z)({},y)),C=(0,n.Z)(k,2),Z=C[0],E=C[1],I=(0,c.useState)((0,s.Z)({},g)),A=(0,n.Z)(I,2),w=A[0],B=A[1],S=(0,c.useState)((0,s.Z)({},N)),D=(0,n.Z)(S,2),M=D[0],G=D[1],T=function(){b((function(e){e({type:d.uO})})),l?(B({name:l.name,email:l.email,phone:l.phone,birthday:l.birthday,skill:l.skill,certification:l.certification,gender:!1,type:l.role}),G({WEB:!!l.skill.includes("WEB"),DESIGN:!!l.skill.includes("DESIGN"),GAMING:!!l.skill.includes("GAMING"),MOBILE:!!l.skill.includes("MOBILE"),REACT:!!l.skill.includes("REACT"),DIB:!!l.certification.includes("DIB"),PYNOW:!!l.certification.includes("PYNOW"),AWS:!!l.certification.includes("AWS"),CCNA:!!l.certification.includes("CCNA"),IT:!!l.certification.includes("IT")})):(B((0,s.Z)({},g)),G((0,s.Z)({},N)),E((0,s.Z)({},y)))};(0,c.useEffect)((function(){T()}),[l]);var V=function(e){B((0,s.Z)((0,s.Z)({},w),{},(0,t.Z)({},e.target.name,e.target.value)))},W=function(e){var a=[];document.querySelectorAll(".checkbox-skill").forEach((function(e){e.checked&&a.push(e.value)})),B((0,s.Z)((0,s.Z)({},w),{},{skill:a})),e.target.checked?G((0,s.Z)((0,s.Z)({},M),{},(0,t.Z)({},e.target.value,!0))):G((0,s.Z)((0,s.Z)({},M),{},(0,t.Z)({},e.target.value,!1)))},O=function(e){var a=[];document.querySelectorAll(".checkbox-cert").forEach((function(e){e.checked&&a.push(e.value)})),B((0,s.Z)((0,s.Z)({},w),{},{certification:a})),e.target.checked?G((0,s.Z)((0,s.Z)({},M),{},(0,t.Z)({},e.target.value,!0))):G((0,s.Z)((0,s.Z)({},M),{},(0,t.Z)({},e.target.value,!1)))};window.onclick=function(e){e.target==document.getElementById("addModal")&&T()};var R=function(e){var a=e.target,l=a.name,n=a.value,c=""===n.trim()?"Please enter your "+l:"",r=Z.nameValid,i=Z.emailValid,o=Z.passwordValid,d=Z.phoneValid,u=Z.birthdayValid;Z.formValid;switch(l){case"name":r=""===c;n&&!n.match("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ebf\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9\xfd\\s]+$")?(r=!1,c="Your name seems invalid"):r=!0;break;case"email":i=""===c;n&&!n.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?(i=!1,c="Your email seems invalid"):i=!0;break;case"password":o=""===c;n&&!n.match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{0,}$/)?(o=!1,c="Your password seems invalid"):o=!0;break;case"phone":d=""===c;n&&!n.match(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im)?(d=!1,c="Your phone seems invalid"):d=!0;break;case"birthday":u=""===c;n&&n.match(/^(0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])[\/\-]\d{4}$/)?(u=!1,c="Your birthday seems invalid"):u=!0}E({formValid:r&i&o&d&u,nameValid:r,emailValid:i,passwordValid:o,phoneValid:d,birthdayValid:u,errors:(0,s.Z)((0,s.Z)({},Z.errors),{},(0,t.Z)({},l,c))})};return(0,f.jsx)("div",{className:"modal fade",id:"addModal",tabIndex:-1,role:"dialog",children:(0,f.jsx)("div",{className:"modal-dialog",role:"document",children:(0,f.jsxs)("div",{className:"modal-content",children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsxs)("h5",{className:"modal-title",children:[a," USER"]}),(0,f.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){T()},children:(0,f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,f.jsx)("div",{className:"modal-body",children:(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b(function(e,a,l){return function(n){n(u()),"ADD"==a?o.Z.post("/api/auth/signup",e).then((function(e){n(h())})).catch((function(e){n(m(e))})):"EDIT"==a&&o.Z.put("/api/users/".concat(l),e).then((function(e){n(p())})).catch((function(e){n(x(e))}))}}(w,a,null===l||void 0===l?void 0:l._id))},children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("input",{className:"form-control",type:"text",name:"name",placeholder:"Full name",onChange:V,value:w.name,onBlur:R}),Z.errors.name&&(0,f.jsx)("div",{className:"alert alert-danger mt-2",children:Z.errors.name})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("input",{className:"form-control",type:"email",name:"email",placeholder:"Email",onChange:V,value:w.email,onBlur:R}),Z.errors.email&&(0,f.jsx)("div",{className:"alert alert-danger mt-2",children:Z.errors.email})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("input",{className:"form-control",disabled:!!l,type:"password",name:"password",autoComplete:"on",placeholder:l?"Password":"New password",onChange:V,onBlur:R}),Z.errors.password&&(0,f.jsx)("div",{className:"alert alert-danger mt-2",children:Z.errors.password})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("input",{className:"form-control",type:"tel",name:"phone",placeholder:"Mobile number",onChange:V,value:w.phone,onBlur:R}),Z.errors.phone&&(0,f.jsx)("div",{className:"alert alert-danger mt-2",children:Z.errors.phone})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Skill"}),(0,f.jsxs)("div",{className:"d-flex justify-content-around",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{children:"WEB"}),(0,f.jsx)("input",{className:"ml-2 checkbox-skill",type:"checkbox",value:"WEB",onChange:W,checked:M.WEB})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{children:"DESIGN"}),(0,f.jsx)("input",{className:"ml-2 checkbox-skill",type:"checkbox",value:"DESIGN",onChange:W,checked:M.DESIGN})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{children:"GAMING"}),(0,f.jsx)("input",{className:"ml-2 checkbox-skill",type:"checkbox",value:"GAMING",onChange:W,checked:M.GAMING})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{children:"MOBILE"}),(0,f.jsx)("input",{className:"ml-2 checkbox-skill",type:"checkbox",value:"MOBILE",onChange:W,checked:M.MOBILE})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{children:"REACT"}),(0,f.jsx)("input",{className:"ml-2 checkbox-skill",type:"checkbox",value:"REACT",onChange:W,checked:M.REACT})]})]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Certification"}),(0,f.jsxs)("div",{className:"d-flex justify-content-around",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{children:"DIB"}),(0,f.jsx)("input",{className:"ml-2 checkbox-cert",type:"checkbox",value:"DIB",onChange:O,checked:M.DIB})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{children:"PYNOW"}),(0,f.jsx)("input",{className:"ml-2 checkbox-cert",type:"checkbox",value:"PYNOW",onChange:O,checked:M.PYNOW})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{children:"AWS"}),(0,f.jsx)("input",{className:"ml-2 checkbox-cert",type:"checkbox",value:"AWS",onChange:O,checked:M.AWS})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{children:"CCNA"}),(0,f.jsx)("input",{className:"ml-2 checkbox-cert",type:"checkbox",value:"CCNA",onChange:O,checked:M.CCNA})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{children:"IT"}),(0,f.jsx)("input",{className:"ml-2 checkbox-cert",type:"checkbox",value:"IT",onChange:O,checked:M.IT})]})]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Birthday"}),(0,f.jsx)("input",{className:"form-control",type:"date",name:"birthday",onChange:V,value:w.birthday?new Date(w.birthday).toLocaleDateString("en-GB").split("/").reverse().join("-"):"",onBlur:R}),Z.errors.birthday&&(0,f.jsx)("div",{className:"alert alert-danger mt-2",children:Z.errors.birthday})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Gender"}),(0,f.jsxs)("select",{className:"custom-select",name:"gender",children:[(0,f.jsx)("option",{value:"male",className:"selected",children:"Male"}),(0,f.jsx)("option",{value:"female",children:"Female"}),(0,f.jsx)("option",{value:"other",children:"Other"})]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"User Type"}),(0,f.jsxs)("select",{className:"custom-select",name:"type",value:w.type,onChange:function(e){B((0,s.Z)((0,s.Z)({},w),{},(0,t.Z)({},e.target.name,e.target.value)))},children:[(0,f.jsx)("option",{children:"CLIENT"}),(0,f.jsx)("option",{children:"ADMIN"})]})]}),(0,f.jsx)("div",{className:"form-group text-center mt-3",children:(0,f.jsx)("button",{className:"btn btn-success px-3",type:"submit",disabled:!l&&!Z.formValid,children:a})}),(0,f.jsx)("div",{children:v?(0,f.jsx)(i.Z,{}):j&&(0,f.jsx)("div",{className:"alert alert-danger mt-3 text-center",children:j})})]})})]})})})}var v=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/\xc0|\xc1|\u1ea0|\u1ea2|\xc3|\xc2|\u1ea6|\u1ea4|\u1eac|\u1ea8|\u1eaa|\u0102|\u1eb0|\u1eae|\u1eb6|\u1eb2|\u1eb4/g,"A")).replace(/\xc8|\xc9|\u1eb8|\u1eba|\u1ebc|\xca|\u1ec0|\u1ebe|\u1ec6|\u1ec2|\u1ec4/g,"E")).replace(/\xcc|\xcd|\u1eca|\u1ec8|\u0128/g,"I")).replace(/\xd2|\xd3|\u1ecc|\u1ece|\xd5|\xd4|\u1ed2|\u1ed0|\u1ed8|\u1ed4|\u1ed6|\u01a0|\u1edc|\u1eda|\u1ee2|\u1ede|\u1ee0/g,"O")).replace(/\xd9|\xda|\u1ee4|\u1ee6|\u0168|\u01af|\u1eea|\u1ee8|\u1ef0|\u1eec|\u1eee/g,"U")).replace(/\u1ef2|\xdd|\u1ef4|\u1ef6|\u1ef8/g,"Y")).replace(/\u0110/g,"D")).replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"")).replace(/\u02C6|\u0306|\u031B/g,"")).replace(/ + /g,"")).replace(/\s+/g,"")).replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g,"")},b=l(9052),g=function(){return{type:b.qW}},N=function(e){return{type:b.RB,payload:e}},y=function(e){return{type:b.vG,payload:e}},k=function(){return{type:b.tv}},C=function(e){return{type:b.Zy,payload:e}},Z=function(e){return{type:b.Pq,payload:e}};function E(){var e=(0,c.useRef)(null),a=(0,r.I0)(),l=(0,c.useState)(""),t=(0,n.Z)(l,2),s=t[0],i=t[1],d=(0,c.useState)(null),u=(0,n.Z)(d,2),h=u[0],m=u[1],p=(0,r.v9)((function(e){return e.usersManagementReducer.data})),x=(0,c.useState)(null),b=(0,n.Z)(x,2),E=b[0],I=b[1],A=(0,c.useState)("all"),w=(0,n.Z)(A,2),B=w[0],S=w[1];(0,c.useEffect)((function(){a((function(e){e(g()),o.Z.get("/api/users").then((function(a){e(N(a.data))})).catch((function(a){e(y(a))}))}))}),[]),(0,c.useEffect)((function(){I(p)}),[p]);var D=function(e){window.confirm("Delete?")&&a(function(e){return function(a){a(k()),o.Z.delete("/api/users/".concat(e)).then((function(e){a(C()),alert("Deleted successfully! Refresh & change.")})).catch((function(e){a(Z(e))}))}}(e))};return(0,f.jsxs)("div",{children:[(0,f.jsx)("h5",{className:"text-center my-3 user-title",children:"USERS MANAGEMENT"}),(0,f.jsxs)("div",{className:"d-flex justify-content-between mx-5",children:[(0,f.jsxs)("form",{className:"form-inline my-2 my-lg-0",onSubmit:function(a){a.preventDefault(),function(){var a=[],l=v(e.current.value).toLowerCase();switch(B){case"name":return a=p.filter((function(e){if(e.name)return v(e.name.toLowerCase()).indexOf(l)>=0})),I(a);case"email":return a=p.filter((function(e){if(e.email)return v(e.email.toLowerCase()).indexOf(l)>=0})),I(a);case"role":return a=p.filter((function(e){if(e.role)return v(e.role.toLowerCase()).indexOf(l)>=0})),I(a);default:I(p)}}()},children:[(0,f.jsx)("div",{className:"form-group",children:(0,f.jsxs)("select",{className:"form-control",onChange:function(e){S(e.target.value)},children:[(0,f.jsx)("option",{children:"All"}),(0,f.jsx)("option",{value:"name",children:"By Name"}),(0,f.jsx)("option",{value:"email",children:"By Email"}),(0,f.jsx)("option",{value:"role",children:"By Role"})]})}),(0,f.jsx)("input",{className:"form-control m-0 mx-2",type:"search",placeholder:"Find User","aria-label":"Search",ref:e}),(0,f.jsx)("button",{className:"btn m-0 btn-search",type:"submit",children:"Search"})]}),(0,f.jsx)("button",{className:"btn btn-add-user","data-toggle":"modal","data-target":"#addModal",onClick:function(){i("ADD"),m(null)},children:" + Add User"})]}),(0,f.jsx)(j,{method:s,userEdit:h}),(0,f.jsxs)("table",{className:"table table-striped mt-5 text-center",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{scope:"col",children:"#"}),(0,f.jsx)("th",{scope:"col",children:"Name"}),(0,f.jsx)("th",{scope:"col",children:"Email"}),(0,f.jsx)("th",{scope:"col",children:"Role"}),(0,f.jsx)("th",{scope:"col",children:"Manage"})]})}),(0,f.jsx)("tbody",{children:null===E||void 0===E?void 0:E.map((function(e,a){return(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{scope:"row",children:a+1}),(0,f.jsx)("td",{children:e.name}),(0,f.jsx)("td",{children:e.email}),(0,f.jsx)("td",{children:e.role}),(0,f.jsxs)("td",{children:[(0,f.jsx)("button",{className:"btn btn-edit mx-1","data-toggle":"modal","data-target":"#addModal",onClick:function(){i("EDIT"),m(e)},children:"Edit"}),(0,f.jsx)("button",{className:"btn btn-del mx-1",onClick:function(){D(e._id)},children:"\xd7"})]})]},e._id)}))})]})]})}}}]);
//# sourceMappingURL=248.5567041c.chunk.js.map