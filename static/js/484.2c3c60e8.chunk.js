"use strict";(self.webpackChunkproject_front_end=self.webpackChunkproject_front_end||[]).push([[484],{484:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var a=t(4942),s=t(1413),r=t(885),i=t(8265),o=t(2791),c=t(6030),l=t(1523),d=t(8639),u=t(3774),m=function(){return{type:u.Cn}},p=function(e){return{type:u.XP,payload:e}},f=function(e){return{type:u.s2,payload:e}},h=t(1702),x=t(184);function g(e){var n=(0,o.useState)({email:"",password:""}),t=(0,r.Z)(n,2),g=t[0],j=t[1],N=(0,c.v9)((function(e){return e.userLoginReducer.loading})),v=(0,c.v9)((function(e){return e.userLoginReducer.error})),y=(0,c.I0)();(0,o.useEffect)((function(){return function(){y({type:u.g4})}}),[]);var b=function(e){j((0,s.Z)((0,s.Z)({},g),{},(0,a.Z)({},e.target.name,e.target.value)))};return localStorage.getItem("UserInfo")?(0,x.jsx)(h.Redirect,{to:"/"}):(0,x.jsx)("div",{className:"container",children:(0,x.jsx)("div",{className:"row py-3",children:(0,x.jsxs)("div",{className:"col-md-5 mx-auto",children:[(0,x.jsx)("h4",{className:"text-center",children:"Login"}),(0,x.jsxs)("form",{onSubmit:function(n){var t,a;n.preventDefault(),y((t=g,a=e.history,function(e){e(m()),d.Z.post("/api/auth/signin",t).then((function(n){if("CLIENT"===n.data.user.role)e(p(n.data)),localStorage.setItem("UserInfo",JSON.stringify(n.data)),a.goBack();else{if("ADMIN"!=n.data.user.role)return Promise.reject({response:{data:{message:"Does not have permission to access!"}}});e(p(n.data)),localStorage.setItem("UserInfo",JSON.stringify(n.data)),a.replace("/users-management")}})).catch((function(n){e(f(n))}))}))},children:[(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Email"}),(0,x.jsx)("input",{type:"text",className:"form-control",name:"email",onChange:b})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Password"}),(0,x.jsx)("input",{type:"password",className:"form-control",name:"password",autoComplete:"on",onChange:b})]}),(0,x.jsx)("div",{className:"text-center",children:(0,x.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})}),(0,x.jsxs)("div",{className:"text-center mt-3",children:[(0,x.jsx)(l.rU,{to:"/signup",className:"p-3",children:"Sign Up"}),(0,x.jsx)(l.rU,{to:"/",className:"p-3",children:"Back to Homepage"})]})]}),(0,x.jsxs)("div",{className:"font-italic",children:[(0,x.jsx)("p",{children:"Example:"}),(0,x.jsx)("p",{children:"(Client): huynhanh.mtu@gmail.com - 1111"}),(0,x.jsx)("p",{children:"(Admin): dinh@gmail.com - 1111"})]}),N?(0,x.jsx)(i.Z,{}):v&&(0,x.jsx)("div",{className:"alert alert-danger mt-3",children:v})]})})})}}}]);
//# sourceMappingURL=484.2c3c60e8.chunk.js.map